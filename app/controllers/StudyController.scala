package controllers

import play.api.mvc._

import javax.inject._

@Singleton
class StudyController @Inject()(val controllerComponents: ControllerComponents) extends BaseController {

  def study = Action { _ =>
    // 3. åˆ†å²
    // 3-3. matchå¼

    // matchå¼ã¯ifå¼ã®å¼·åŒ–ç‰ˆã¿ãŸã„ãªå­˜åœ¨ã§ã™ã€‚
    // ä»¥ä¸‹ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹ã§ã™ã€‚
    val n = 2
    val message1 = n match {
      case 1 => "nã¯1ã§ã™ã€‚" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
      case 2 => "nã¯2ã§ã™ã€‚" // ã“ã®caseã«æ¥ã¾ã™ã€‚
      case 3 => "nã¯3ã§ã™ã€‚" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
    }

    // matchå¼ã¯ifå¼ã¨é•ã£ã¦`{}`ã‚’ä½¿ã‚ãªãã¦ã‚‚ã€
    // ãã®caseå†…ã§è¤‡æ•°ã®è¡Œã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚
    // ã“ã®å ´åˆã‚‚ãã®caseå†…ã®æœ€çµ‚è¡Œã®çµæœãŒæœ€çµ‚çš„ãªå€¤ã¨ãªã‚Šã¾ã™ã€‚
    val y = "Y"
    val message2 = y match {
      case "X" => // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
        val yIsX = "yã¯Xã§ã™ï¼Ÿ"
        yIsX // ã“ã“ãŒã“ã®caseã®å€¤

      case "Y" => // ã“ã®caseã«æ¥ã¾ã™ã€‚
        val yIsY = "yã¯Yã§ã™ã€‚"
        yIsY // ã“ã“ãŒã“ã®caseã®å€¤
    }

    // ã€æ³¨æ„ã€‘
    // matchå¼ã®caseã®å…¨ã¦ã«å½“ã¦ã¯ã¾ã‚‰ãªã„ã¨ãƒ»ãƒ»
    // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¡ã‚ƒã„ã¾ã™ğŸ’£ğŸ”¥ 
    // ãã‚“ãªæ™‚ã®ãŸã‚ã«"ãã‚Œä»¥å¤–"ã¨ã„ã†ã®ã‚’`_`ã§è¨˜è¿°ã§ãã¾ã™ã€‚

    val z = "Z"
    val message3 = z match {
      case "X" => "zã¯Xã§ã™ï¼Ÿ" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
      case "Y" => "zã¯Yã§ã™ï¼Ÿ" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
      case _ => "zã¯Zã§ã‚‚Yã§ã‚‚ãªã„ã§ã™ã€‚" // ã“ã®caseã«æ¥ã¾ã™ã€‚
    }

    // ã¡ãªã¿ã«`_`ä»¥å¤–ã®ä»»æ„ã®åå‰ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã€
    // ãã®å€¤ã‚’caseå†…ã§åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    val message4 = z match {
      case "X" => "zã¯Xã§ã™ï¼Ÿ" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
      case "Y" => "zã¯Yã§ã™ï¼Ÿ" // ã“ã®caseã«ã¯æ¥ã¾ã›ã‚“ã€‚
      case something => s"zã¯Xã§ã‚‚Yã§ã‚‚ãªã${something}ã§ã™ã€‚" // ã“ã®caseã«æ¥ã¾ã™ã€‚
      // â†‘ åå‰ã¯è‡ªç”±ã«ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚
    }
    
    // ã€æ³¨æ„ã€‘
    // caseã¯é †ç•ªã‚‚å¤§äº‹ã§ã™ã€‚
    // å…¨éƒ¨ã«å½“ã¦ã¯ã¾ã‚‰ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ä¸€æ–¹ã§ã€
    // ä¸Šã®caseã‹ã‚‰é †ç•ªã«ç¢ºèªã•ã‚Œã€
    // æœ€åˆã«å½“ã¦ã¯ã¾ã£ãŸcaseä»¥å¤–ã¯ç„¡è¦–ã•ã‚Œã‚‹ã®ã§ã€
    // ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã¨2å€‹ç›®ä»¥é™ã®caseã¯æ„å‘³ãƒŠãƒƒã‚·ãƒ³ã‚°ã§ã™ã€‚
    val x = "X"
    val message5 = x match {
      case something => s"xã¯ä½•ã‹ã§ã™ã€‚${something}ã§ã™ã€‚" // `_`ã‚„ä»»æ„ã®å¤‰æ•°åã«ã¯å…¨ã¦ãƒãƒƒãƒã™ã‚‹ã®ã§ã“ã®caseã«æ¥ã¾ã™ã€‚
      case "X" => "xã¯Xã§ã™ã€‚" // ã“ã®caseã«ã¯æ¥ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ï¼
      case "Y" => "xã¯Yã§ã™ï¼Ÿ" // ã“ã®caseã«ã¯æ¥ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ï¼
    }
    
    Ok(
      s"""
         |message1 = $message1<br>
         |message2 = $message2<br>
         |message3 = $message3<br>
         |message4 = $message4<br>
         |message5 = $message5<br>
         |""".stripMargin).as(HTML)

  }

}
